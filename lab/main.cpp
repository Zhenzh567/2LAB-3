#include "product.h"
#include "library.h"
#include <iostream>
#include <vector>

using namespace std;

int main() {
    // Тест 1: Создание продукта через полный конструктор
    cout << "\nТест 1: Создание продукта через полный конструктор\n";
    vector<string> comp1 = {"Компонент1", "Компонент2"};
    Product p1("Продукт1", "Описание продукта 1", 100.5, 30, "Склад А", comp1);
    p1.displayInfo();

    // Тест 2: Создание через конструктор по умолчанию
    cout << "\nТест 2: Создание через конструктор по умолчанию\n";
    Product p2;
    p2.displayInfo();

    // Тест 3: Проверка оператора присваивания
    cout << "\nТест 3: Проверка оператора присваивания\n";
    Product p3 = p1;
    p3.displayInfo();

    // Тест 4: Проверка сеттеров и геттеров
    cout << "\nТест 4: Проверка сеттеров и геттеров\n";
    p3.setPrice(150.0);
    p3.setName("Новый продукт");
    p3.setLocation("Склад Б");
    cout << "Новое название: " << p3.getName() << endl;
    cout << "Новая цена: " << p3.getPrice() << endl;
    cout << "Новое расположение: " << p3.getLocation() << endl;

    // Тест 5: Проверка операций + и -
    cout << "\nТест 5: Проверка операций + и -\n";
    vector<string> comp2 = {"Компонент3", "Компонент4"};
    Product p4("Продукт2", "Описание продукта 2", 120.0, 25, "Склад В", comp2);
    
    Product p5 = p1 + p4;
    cout << "Результат операции +:\n";
    p5.displayInfo();
    
    Product p6 = p1 - p4;
    cout << "Результат операции -:\n";
    p6.displayInfo();

    // Тест 6: Проверка составного оператора -=
    cout << "\nТест 6: Проверка составного оператора -=\n";
    p1 -= p4;
    cout << "Результат операции -=:\n";
    p1.displayInfo();

    // Тест 7: Проверка изменения срока годности
    cout << "\nТест 7: Проверка изменения срока годности\n";
    p1.decreaseExpirationDate(20);
    cout << "Новый срок годности: " << p1.getExpiration_date() << endl;

    return 0;
}
